<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta http-equiv='cache-control' content='no-cache'> 
    <meta http-equiv='expires' content='0'> 
    <meta http-equiv='pragma' content='no-cache'>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <title>Actor Page</title>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="style/styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css" integrity="sha512-MV7K8+y+gLIBoVD59lQIYicR65iaqukzvf/nwasF0nqhPay5w/9lJmVM2hMDcnK1OnMGCdVK+iQrJ7lzPJQd1w==" crossorigin="anonymous" referrerpolicy="no-referrer" />

    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/chartjs-plugin-datalabels/2.1.0/chartjs-plugin-datalabels.min.js"></script> 
    <script src="https://kit.fontawesome.com/9281a1cc83.js" crossorigin="anonymous"></script>
</head>
<style>
  #timer {
      font-size: 2.5em;
      font-weight: 700;
      padding: 1rem;
      color:#ED7657;
      font-family: 'Trilby', 'Zilla Slab', serif;
  }

  .fa-solid {
      margin: 0 auto;
      display: block;
    }
</style>
<body>
  <div class="container">

    <section id="spin-page">

      <nav>
        <button class="nav-exit" id="btn_nav_red" alt="Exit" data-toggle="modal" data-target="#exitModal">
          <i class="fa-solid fa-xmark fa-l" style="color: #fbf9ed;"></i>
        </button>
      </nav>
      
     
      <header>
        <h2 id="h2-whitebg">Click to spin!</h2>
      </header>
  
      <div class="container" id="wheel-container">
        <div class="wheel_box">
          <canvas id="spinWheel"></canvas>
          <button id="spin_btn">SPIN</button>
          <div class="row" id="wheel-pointer">
              <i class="fa-solid fa-down-long fa-2xl" style="color: #451F27;"></i>
          </div>
        </div>
      </div>
    </section>
    
    <section id="prompt-page" class="hide">
        <div class="modal" id="modalPage">
          <nav>
            <button class="nav-exit" id="btn_nav_red" alt="Exit" data-toggle="modal" data-target="#exitModal">
              <i class="fa-solid fa-xmark fa-l" style="color: #fbf9ed;"></i>
            </button>
          </nav>
          
            <div class="row">
                <header>
                    <h5 class="prompt">Act as if you are...</h5>
                </header>
            </div>
        
            <div class="row">
                <div id="prompt"></div>
            </div>
        
            <div class="row">
                <div class="timer" id="timer"></div>
            </div>
        </div>
    </section>


    <div class="modal fade" id="exitModal" tabindex="-1" role="dialog" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered" role="document">
        
        <div class="modal-content">

          <div class="modal-header">
            <h6>Are you sure?</h6>
          </div>

          <div class="modal-body">
            This will end the current game in play for everyone. 
          </div>

          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-dismiss="modal">Continue playing</button>
            <button id="cancel" type="button" class="btn btn-primary" onclick="window.location.href='landing.html';">Quit now</button>
          </div>

        </div>
      </div>
    </div>


  </div>
 
  <script src="script/script.js" type="module"></script>
  <script>
    const timer = document.getElementById("timer");
    let time = 184;

    function updateTimer() {
      let minutes = Math.floor(time / 60);
      let seconds = time % 60;

      minutes = minutes < 10 ? "0" + minutes : minutes;
      seconds = seconds < 10 ? "0" + seconds : seconds;

      timer.innerHTML = `${minutes}:${seconds}`;

      if (time === 0) {
        clearInterval(countdownInterval);
        window.location.href = "actor_loser.html";
      }

      time--;
    }

let countdownInterval = setInterval(updateTimer, 1000);

    $(document).ready(function(){
      $('[data-toggle="popover"]').popover();
    });
    
    $(function () {
      $('[data-toggle="tooltip"]').tooltip()
    })

  </script>
</body>   
</html>